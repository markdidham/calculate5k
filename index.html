// Alternative Implementation Using Static JavaScript (No Server Required)
// This script can be embedded directly into an HTML file or Google Sites

/**
 * Function to predict 5K time based on VO2 max, age, and gender.
 * @param {number} vo2Max - The VO2 max score.
 * @param {number} age - The age of the runner.
 * @param {string} gender - The gender of the runner ('male' or 'female').
 * @returns {string} - Predicted 5K time in HH:MM:SS format.
 */
function predict5KTime(vo2Max, age, gender) {
  const VO2_TO_MIN_PER_MILE = 1609.34 / 3.5; // Converts VO2 to pace in min/mile
  const GENDER_MULTIPLIER = {
    male: 1,
    female: 0.88 // Adjusted for average gender difference in performance
  };

  // Normalize VO2 max based on gender
  const adjustedVO2 = vo2Max * (GENDER_MULTIPLIER[gender.toLowerCase()] || 1);

  // Predicted pace per mile in minutes
  const pacePerMileInMinutes = VO2_TO_MIN_PER_MILE / adjustedVO2;

  // Convert pace to total time for 5K
  const timeInMinutes = pacePerMileInMinutes * (5000 / 1609.34);
  const timeInSeconds = timeInMinutes * 60;

  // Convert seconds to HH:MM:SS format
  const hours = Math.floor(timeInSeconds / 3600);
  const minutes = Math.floor((timeInSeconds % 3600) / 60);
  const seconds = Math.round(timeInSeconds % 60);

  return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
}

// HTML and JavaScript for embedding in a static site or Google Sites
document.write(`
  <div style="font-family: Arial, sans-serif; margin: 20px;">
    <h3>5K Time Predictor</h3>
    <label for="vo2Max">VO2 Max:</label>
    <input type="number" id="vo2Max" placeholder="Enter VO2 Max" step="0.1" style="margin-bottom: 10px;">
    <br>
    <label for="age">Age:</label>
    <input type="number" id="age" placeholder="Enter Age" style="margin-bottom: 10px;">
    <br>
    <label for="gender">Gender:</label>
    <select id="gender" style="margin-bottom: 10px;">
      <option value="male">Male</option>
      <option value="female">Female</option>
    </select>
    <br>
    <button onclick="calculatePrediction()">Predict 5K Time</button>
    <p id="result" style="margin-top: 20px; font-weight: bold;"></p>
  </div>

  <script>
    function calculatePrediction() {
      const vo2Max = parseFloat(document.getElementById('vo2Max').value);
      const age = parseInt(document.getElementById('age').value);
      const gender = document.getElementById('gender').value;

      if (!vo2Max || !age || !gender) {
        document.getElementById('result').textContent = 'Please provide valid inputs for VO2 Max, age, and gender.';
        return;
      }

      const predictedTime = predict5KTime(vo2Max, age, gender);
      document.getElementById('result').textContent = `Predicted 5K Time: ${predictedTime}`;
    }
  </script>
`);
